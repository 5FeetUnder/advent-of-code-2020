from functools import reduce;from math import gcd;lcm=lambda a,b:abs(a*b)//gcd(a,b);merge=lambda a,b,x,y:merge(a,b+a*(max(-1,y-b-1)//a+1),x,y+x*(max(-1,b-y-1)//x+1))if b!=y else (lcm(a,x),b);print(reduce(lambda fn,fm:merge(*fn,*fm),((int(x),-idx) for idx,x in enumerate([x.strip() for x in open("input.txt")][1].split(',')) if x!='x'),(1, 0))[1])